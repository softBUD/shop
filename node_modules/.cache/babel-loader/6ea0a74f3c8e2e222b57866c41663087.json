{"ast":null,"code":"import _slicedToArray from\"C:/webshop/shopping/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import lipstick from'../images/lipstick.png';import{useDispatch}from'react-redux';import{Link}from'react-router-dom';import{loginUser}from\"../../src/_actions/user_action\";import{withRouter}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(props){var dispatch=useDispatch();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),Email=_useState2[0],EmailState=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),Password=_useState4[0],PasswordState=_useState4[1];// state를 변경시켜줌\nvar onEmailHandler=function onEmailHandler(event){EmailState(event.currentTarget.value);};var onPasswordHandler=function onPasswordHandler(event){PasswordState(event.currentTarget.value);};var onSubmitHandler=function onSubmitHandler(event){event.preventDefault();// 이벤트 발생시 새로고침 방지\nvar body={email:Email,password:Password};//원래는 axios로 구현하는 부분을 disapatch로 넘김\ndispatch(loginUser(body)).then(function(response){if(response.payload.loginSuccess){props.history.push('/');}else{alert(response.payload.message);}});};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{className:\"loginForm\",onSubmit:onSubmitHandler,children:[/*#__PURE__*/_jsx(\"div\",{className:\"logoContainer\",children:/*#__PURE__*/_jsxs(Link,{to:\"/\",className:\"linkNone\",children:[/*#__PURE__*/_jsx(\"img\",{src:lipstick,className:\"logoImage\",alt:\"logo_image\"}),/*#__PURE__*/_jsx(\"div\",{id:\"Cosme\",children:\"Cosme\"})]})}),/*#__PURE__*/_jsx(\"label\",{className:\"noneLabel\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",onChange:onEmailHandler,placeholder:\"email\",className:\"emailInput\"}),/*#__PURE__*/_jsx(\"label\",{className:\"noneLabel\",children:\"password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",onChange:onPasswordHandler,placeholder:\"password\",className:\"passInput\"}),/*#__PURE__*/_jsx(\"button\",{className:\"loginButton\",children:\"login\"})]})});}export default withRouter(Login);","map":{"version":3,"sources":["C:/webshop/shopping/src/views/login.js"],"names":["React","useState","lipstick","useDispatch","Link","loginUser","withRouter","Login","props","dispatch","Email","EmailState","Password","PasswordState","onEmailHandler","event","currentTarget","value","onPasswordHandler","onSubmitHandler","preventDefault","body","email","password","then","response","payload","loginSuccess","history","push","alert","message"],"mappings":"yGAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,QAAP,KAAqB,wBAArB,CACA,OAAQC,WAAR,KAA0B,aAA1B,CACA,OAAQC,IAAR,KAAmB,kBAAnB,CACA,OAAQC,SAAR,KAAwB,gCAAxB,CACA,OAAQC,UAAR,KAAyB,kBAAzB,C,wFAEA,QAASC,CAAAA,KAAT,CAAgBC,KAAhB,CAAuB,CAEnB,GAAMC,CAAAA,QAAQ,CAAGN,WAAW,EAA5B,CACA,cAA2BF,QAAQ,CAAC,EAAD,CAAnC,wCAAOS,KAAP,eAAaC,UAAb,eACA,eAAiCV,QAAQ,CAAC,EAAD,CAAzC,yCAAOW,QAAP,eAAgBC,aAAhB,eAEA;AACA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,KAAD,CAAW,CAChCJ,UAAU,CAACI,KAAK,CAACC,aAAN,CAAoBC,KAArB,CAAV,CACD,CAFD,CAIA,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACH,KAAD,CAAW,CACnCF,aAAa,CAACE,KAAK,CAACC,aAAN,CAAoBC,KAArB,CAAb,CACD,CAFD,CAIA,GAAME,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACJ,KAAD,CAAW,CACjCA,KAAK,CAACK,cAAN,GAAwB;AAExB,GAAIC,CAAAA,IAAI,CAAG,CACTC,KAAK,CAACZ,KADG,CAETa,QAAQ,CAACX,QAFA,CAAX,CAIA;AACAH,QAAQ,CAACJ,SAAS,CAACgB,IAAD,CAAV,CAAR,CACCG,IADD,CACM,SAAAC,QAAQ,CAAI,CAChB,GAAGA,QAAQ,CAACC,OAAT,CAAiBC,YAApB,CAAiC,CAC/BnB,KAAK,CAACoB,OAAN,CAAcC,IAAd,CAAmB,GAAnB,EACD,CAFD,IAEO,CACLC,KAAK,CAACL,QAAQ,CAACC,OAAT,CAAiBK,OAAlB,CAAL,CACD,CACF,CAPD,EASH,CAjBC,CAkBA,mBACE,kCAEE,cAAM,SAAS,CAAC,WAAhB,CAA4B,QAAQ,CAAEZ,eAAtC,wBACE,YAAK,SAAS,CAAC,eAAf,uBAA+B,MAAC,IAAD,EAAM,EAAE,CAAC,GAAT,CAAa,SAAS,CAAC,UAAvB,wBAAkC,YAAK,GAAG,CAAEjB,QAAV,CAAoB,SAAS,CAAC,WAA9B,CAA0C,GAAG,CAAC,YAA9C,EAAlC,cAC/B,YAAK,EAAE,CAAC,OAAR,mBAD+B,GAA/B,EADF,cAGE,cAAO,SAAS,CAAC,WAAjB,mBAHF,cAIE,cAAO,IAAI,CAAC,OAAZ,CAAoB,QAAQ,CAAEY,cAA9B,CAA8C,WAAW,CAAC,OAA1D,CAAkE,SAAS,CAAC,YAA5E,EAJF,cAKE,cAAO,SAAS,CAAC,WAAjB,sBALF,cAME,cAAO,IAAI,CAAC,UAAZ,CAAsB,QAAQ,CAAEI,iBAAhC,CAAkD,WAAW,CAAC,UAA9D,CAAyE,SAAS,CAAC,WAAnF,EANF,cAOE,eAAQ,SAAS,CAAC,aAAlB,mBAPF,GAFF,EADF,CAeD,CACD,cAAeZ,CAAAA,UAAU,CAACC,KAAD,CAAzB","sourcesContent":["import React, { useState } from 'react';\r\nimport lipstick from '../images/lipstick.png';\r\nimport {useDispatch} from 'react-redux';\r\nimport {Link} from 'react-router-dom'\r\nimport {loginUser} from \"../../src/_actions/user_action\";\r\nimport {withRouter} from \"react-router-dom\";\r\n\r\nfunction Login (props) {\r\n\r\n    const dispatch = useDispatch();\r\n    const [Email,EmailState] = useState(\"\");\r\n    const [Password,PasswordState] = useState(\"\");\r\n\r\n    // state를 변경시켜줌\r\n    const onEmailHandler = (event) => {\r\n      EmailState(event.currentTarget.value)\r\n    }\r\n\r\n    const onPasswordHandler = (event) => {\r\n      PasswordState(event.currentTarget.value)\r\n    }\r\n\r\n    const onSubmitHandler = (event) => {\r\n      event.preventDefault(); // 이벤트 발생시 새로고침 방지\r\n      \r\n      let body = {\r\n        email:Email,\r\n        password:Password\r\n      }\r\n      //원래는 axios로 구현하는 부분을 disapatch로 넘김\r\n      dispatch(loginUser(body))\r\n      .then(response => {\r\n        if(response.payload.loginSuccess){\r\n          props.history.push('/')\r\n        } else {\r\n          alert(response.payload.message)\r\n        }\r\n      })\r\n      \r\n  }\r\n    return (\r\n      <div> \r\n        {/* onchange로 값 바꿔주어야함 , form에 submit핸들러추가*/}\r\n        <form className='loginForm' onSubmit={onSubmitHandler}>\r\n          <div className='logoContainer'><Link to='/' className='linkNone'><img src={lipstick} className=\"logoImage\" alt=\"logo_image\" />\r\n          <div id=\"Cosme\">Cosme</div></Link></div>\r\n          <label className='noneLabel'>Email</label>\r\n          <input type=\"email\" onChange={onEmailHandler} placeholder=\"email\" className='emailInput'/>\r\n          <label className='noneLabel'>password</label>\r\n          <input type=\"password\"onChange={onPasswordHandler}placeholder=\"password\" className='passInput'/>\r\n          <button className='loginButton'>login</button>\r\n        </form>\r\n      </div>\r\n\r\n    )\r\n  }\r\n  export default withRouter(Login);"]},"metadata":{},"sourceType":"module"}